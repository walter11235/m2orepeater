parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"../node_modules/@directus/extension-toolkit/mixins/interface.js":[function(require,module,exports) {
module.exports={props:{id:{type:String,required:!0},name:{type:String,required:!0},value:{type:null,default:null},type:{type:String,required:!0},length:{type:[String,Number],default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},newItem:{type:Boolean,default:!1},relation:{type:Object,default:null},fields:{type:Object,default:null},values:{type:Object,default:null}}};
},{}],"input.vue":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("@directus/extension-toolkit/mixins/interface"));function e(t){return t&&t.__esModule?t:{default:t}}var o={mixins:[t.default],data:function(){return{collectionOptions:[],selectedCollection:"",itemOptions:[],selectedvalue:"",toEmitObject:{collection:null,item:null}}},mounted:function(){console.log("inside mounted"),this.collectionOptions=this.getCollectionsMethod(),this.value&&this.value.collection&&(this.toEmitObject.collection=this.value.collection,this.selectedCollection=this.value.collection,console.log("selected col:"),console.log(this.selectedCollection),this.itemOptions=this.getItems(this.selectedCollection),console.log("select options in mounted"),console.log(this.itemOptions),this.value.item&&(this.selectedvalue=this.value.item,this.toEmitObject.item=this.value.item,console.log("selected ite:"),console.log(this.selectedvalue)))},methods:{isEmpty:function(t){return null==t||0===t.length||""===t},emitCollectionValue:function(t){this.toEmitObject.collection=this.collectionOptions[t],this.selectedCollection=this.collectionOptions[t],this.$emit("input",this.toEmitObject)},emitItemValue:function(t){this.selectedvalue=this.itemOptions[t],this.toEmitObject.item=this.itemOptions[t],this.$emit("input",this.toEmitObject)},getItems:function(t){var e=[];return fetch("http://localhost:2443/corporatesite/items/"+t).then(function(t){return t.json()}).then(function(t){t.data.forEach(function(t){e.push(t.identifier)})}).catch(function(t){console.error("Error:",t)}),e},getCollectionsMethod:function(){var t=[];return fetch("http://localhost:2443/corporatesite/collections").then(function(t){return t.json()}).then(function(e){e.data.forEach(function(e){var o=e.collection;o.startsWith("directus_")||t.push(o)})}).catch(function(t){console.error("Error:",t)}),t}},computed:{},watch:{selectedCollection:function(t,e){console.log("cur val in watch:"),console.log(t),console.log("olda val in watch"),console.log(e),!e&&t?(console.log("inside first if"),this.itemOptions=this.getItems(t)):e&&t&&this.isEmpty(this.selectedvalue)?(console.log("inside second if"),console.log(this.selectedvalue),this.itemOptions=this.getItems(t)):(console.log("inside third if"),this.selectedvalue=null,this.toEmitObject.item=null,this.itemOptions=this.getItems(t))}}};exports.default=o;
(function(){var t,e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,((t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content two-up",attrs:{id:"app"}},[i("v-select",{attrs:{id:"collections",options:t.collectionOptions,value:t.selectedCollection,"return-object":""},on:{"update:value":function(e){t.selectedCollection=e},input:this.emitCollectionValue}}),t._v(" "),i("v-select",{attrs:{id:"items",options:t.itemOptions,value:t.selectedvalue,"return-object":""},on:{input:this.emitItemValue}}),t._v(" "),i("div",[t._v(t._s(t.selectedCollection))]),t._v(" "),i("div",[t._v(t._s(t.selectedvalue))]),t._v(" "),i("span",[t._v("this is a test")]),t._v(" "),i("span",[t._v(t._s(this.value))])],1)})._withStripped=!0,{render:t,staticRenderFns:[],_compiled:!0,_scopeId:"data-v-70248b",functional:void 0}));})();
},{"@directus/extension-toolkit/mixins/interface":"../node_modules/@directus/extension-toolkit/mixins/interface.js"}]},{},["input.vue"], "__DirectusExtension__")
//# sourceMappingURL=input.js.map