{"version":3,"sources":["../node_modules/@directus/extension-toolkit/mixins/interface.js","input.vue"],"names":[],"mappings":"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","file":"input.js","sourceRoot":"..\\src","sourcesContent":["module.exports = {\r\n  props: {\r\n    // Unique id for this interface. Should be added to the lower level \r\n    // HTML input element if applicable. This ID will be used in the label's\r\n    // `for` attribute\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    // Name of the field\r\n    name: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    // The current value. This can either be the default value, the saved database\r\n    // value or the current state after the user made an edit\r\n    value: {\r\n      type: null,\r\n      default: null\r\n    },\r\n    // Type of the field, eg `string`, `hash`, or `array`\r\n    type: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    // Max length\r\n    length: {\r\n      type: [String, Number],\r\n      default: null\r\n    },\r\n    // If the field is readonly or not\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // If the field is required or not\r\n    required: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // Field options. A json object based on the interface's meta.json file\r\n    options: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    // If the item that's currently being edited is new\r\n    newItem: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // The relation of the current field. Will contain information on the related\r\n    // collection and field(s)\r\n    relation: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    // The other fields in the current edit page\r\n    fields: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    // The values of the other fields on the edit page. Can be used for things like\r\n    // automatically generating a slug based on another field\r\n    values: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  }\r\n};\r\n","<template>\r\n  <div id=\"app\">\r\n    <v-flex xs12 sm6 d-flex>\r\n      <v-select id = \"collections\" :options=\"collectionOptions\" item-value=\"this.selectedCollection\" :value.sync=\"selectedCollection\"\r\n @input=\"this.emitCollectionValue\" @change=\"loadPlotInformation()\"  return-object>\r\n        <template v-slot:option=\"option\">\r\n          <span :class=\"option.icon\"></span>\r\n          {{ option.title }}\r\n      </template>\r\n      </v-select>\r\n      <div>{{selectedCollection}}</div>\r\n     </v-flex>\r\n\r\n     \r\n     <v-select id = \"items\" :options=\"itemOptions\" v-model=\"selectedvalue\" autocomplete  @input=\"this.emitItemValue\" >\r\n     </v-select>\r\n     <div>{{selectedvalue}}</div>\r\n     <v-select id = \"items\" :options=\"optionExample\" v-model=\"selectedOption\" @input=\"$emit('input', optionExample[selectedOption])\" v-on:change=\"loadPlotInformation()\">\r\n       <div>{{selectedOption}}</div>\r\n     </v-select>\r\n     \r\n    <button v-on:click=\"foo\">foo</button>\r\n    <div>{{selectedOption}}</div>\r\n    <div>{{optionExample[selectedOption]}}</div>\r\n    <input\r\n      :value=\"placeholder1\"\r\n      :disabled=\"readonly\"\r\n      @input=\"$emit('input', $event.target.value)\"\r\n    />\r\n    <input\r\n      :value=\"placeholder2\"\r\n      @input=\"$emit('input', $event.target.value)\"\r\n    />\r\n    <!--\r\n    <input :value=\"selectedvalue\" @input=\"$emit('selectedvalue')\" />\r\n    <input\r\n      :value=\"value\"\r\n      @input=\"$emit('input', $event.target.value)\"\r\n    /> \r\n\r\n    <v-select v-model=\"selectedvalue\"  :value=\"selectedvalue\" @input=\"$emit('input', $event.target.value)\">\r\n         <option disabled value=\"\">Please select one</option>   \r\n         <option v-for=\"option in options\" :value=\"option\">{{option}}</option>\r\n     </v-select>\r\n    -->\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import mixin from \"@directus/extension-toolkit/mixins/interface\";\r\n  export default {\r\n    mixins: [mixin],\r\n    data() {\r\n      return {\r\n        placeholder1:\"\",\r\n        placeholder2:\"\",\r\n        collectionOptions: [],\r\n        collectionName: \"\",\r\n        selectedCollection: \"\",\r\n        itemOptions: [],\r\n        selectedvalue: \"\",\r\n        emitValue: \"\",\r\n        optionExample: [\"one\",\"two\",\"three\"],\r\n        selectedOption:\"one\"\r\n      };\r\n    },\r\n    \r\n    mounted() {\r\n      /*\r\n      const collectionName = this.findCollectionValue();\r\n      const fullURL = this.findURL(collectionName);\r\n      var dropdownAlternative = [];\r\n      fetch(fullURL) // Call the fetch function passing the url of the API as a parameter\r\n        .then((resp) => resp.json())\r\n        .then(function(response) {\r\n          // Your code for handling the data you get from the API\r\n          console.log(\"inside fetch\");\r\n          console.log(response);\r\n          response[\"data\"].forEach(element => {\r\n            dropdownAlternative.push(element.identifier);\r\n          });\r\n          console.log(\"after push\");\r\n          console.log(dropdownAlternative);\r\n        })\r\n        .catch(function(error) {\r\n            // This is where you run code if the server returns any errors\r\n            console.error(\"Error:\", error);\r\n        });*/\r\n      //this.options = dropdownAlternative;\r\n      \r\n      \r\n      /*\r\n      while (true) {\r\n        let oldVal = this.collectionName;\r\n        this.collectionName = this.findCollectionValue();\r\n        if(oldVal != this.collectionName) {\r\n          console.log(\"old is:\");\r\n          console.log(oldVal);\r\n          console.log(\"new one:\");\r\n          console.log(this.collectionName)\r\n        }\r\n        \r\n      }*/\r\n      /*\r\n      // Fetch block options\r\n      const { values } = this._props\r\n      console.log(values);\r\n      \r\n      // To take all \r\n      const fieldsNode = document.querySelectorAll('[data-field]');\r\n      console.log(\"fieldsnode: \");\r\n      console.log(fieldsNode);\r\n      const typeField = document.querySelector('[data-field=type]');\r\n      // console.log(typeField);\r\n      const m2oplace = document.querySelectorAll('div[input-name=\"m2orepeater\"]');\r\n      console.log(\"m2oplace: \");\r\n      console.log(m2oplace);\r\n      const content2up = document.getElementsByClassName('content two-up'); // or document.querySelectorAll('section.content.two-up')\r\n      console.log(\"content2up: \");\r\n      console.log(content2up);\r\n\r\n      const content2up0 = content2up[0].firstElementChild;\r\n      console.log(\"first child node: \");\r\n      console.log(content2up0);\r\n      const val = content2up0.querySelector('.value .no-wrap');\r\n      console.log(\"val is: \");\r\n      console.log(val);\r\n      this.collectionName = val.innerHTML.toLowerCase().replace(/ /g,\"_\");\r\n      console.log(this.collectionName);\r\n      //callAPI(collectionName);\r\n\r\n\r\n      const valueTable = document.querySelector('.row-container');*/\r\n      //const options = this.getOptions();\r\n\r\n      // hide all fields until the user choose a type\r\n      //this.hideAll(fieldsNode)\r\n\r\n      // Show the default value if present\r\n      //this.showFields(options[values.type])\r\n\r\n      /*if (typeField) {\r\n        typeField.addEventListener('change', (e) => {\r\n          const value = e.target.value\r\n\r\n          // Hide all the fields on change\r\n          this.hideAll(fieldsNode)\r\n\r\n          // show fields from the options\r\n          this.showFields(options[value])\r\n        })\r\n      }*/\r\n    },\r\n    updated() {\r\n      // After attribute is updated\r\n      // Watch changes from the collections field\r\n    },\r\n    methods: {\r\n      loadPlotInformation() {\r\n        console.log(\"inside change: \");\r\n        console.log(this.selectedvalue);\r\n      },\r\n      findCollectionValue() {\r\n        const m2oplace = document.querySelectorAll('div[input-name=\"m2orepeater\"]');\r\n        //console.log(\"m2oplace: \");\r\n        //console.log(m2oplace);\r\n        const content2up = document.getElementsByClassName('content two-up'); // or document.querySelectorAll('section.content.two-up')\r\n        //const content2up = document.querySelectorAll('.content.two-up')\r\n        //console.log(\"content2up: \");\r\n        //console.log(content2up);\r\n\r\n        const firstEle = content2up.item(0);\r\n        //console.log(\"first element in repeater array: \");\r\n        //console.log(firstEle);\r\n\r\n        //const content2up0 = content2up.item(0).firstElementChild;\r\n        const content2up0 = content2up.item(0).querySelector('div[input-name=collections]');\r\n        //console.log(\"collection node is: \");\r\n        //console.log(content2up0);\r\n        const val = content2up0.querySelector('.value .no-wrap');\r\n        //console.log(\"val is: \");\r\n        //console.log(val);\r\n        this.collectionName = val.innerHTML.toLowerCase().replace(/ /g,\"_\");\r\n        //console.log(this.collectionName);\r\n        return this.collectionName;\r\n      },\r\n\r\n      findURL(collectionName) {\r\n        this.collectionName = collectionName;\r\n        let vm = this;\r\n        let DIRECTUS_ITEM_URL = \"http://localhost:2443/corporatesite/items/\";\r\n        //console.log(vm.collectionName);\r\n        let fullURL = DIRECTUS_ITEM_URL + collectionName;\r\n        //console.log(\"full URL is: \");\r\n        //console.log(fullURL);\r\n        return fullURL;\r\n      },\r\n\r\n      emitCollectionValue(event) {\r\n        //const value = event.target.value;\r\n        // console.log(\"options before callAPI: \");\r\n        // console.log(this.options);\r\n        /*\r\n        var array = this.callAPI;\r\n        const value = array[event];\r\n        console.log(\"options array: \");\r\n        console.log(this.options);\r\n        console.log(\"element event in array:\");\r\n        console.log(this.options[event]);\r\n        console.log(\"value is: \");\r\n        console.log(value);\r\n\r\n        console.log(\"event\");\r\n        console.log(event);\r\n        console.log(\"target: \");\r\n        console.log(event.target);\r\n        // console.log(\"value\");\r\n        // console.log(event.target.value);\r\n        console.log(\"value to be emitted: \");\r\n        console.log(value);*/\r\n        this.selectedCollection = this.collectionOptions[event];\r\n        console.log(\"selected value:\");\r\n        console.log(this.selectedCollection);\r\n        this.emitValue = this.collectionOptions[event];\r\n        if (this.selectedvalue) {\r\n          this.emitValue = this.emitValue + \" \" + this.itemOptions[event];\r\n          this.$emit(\"input\", this.emitValue);\r\n        }\r\n\r\n        //this.$emit(\"input\", this.emitValue);\r\n      },\r\n      emitItemValue(event) {\r\n        this.selectedvalue = this.itemOptions[event];\r\n        console.log(\"selected value:\");\r\n        console.log(this.selectedvalue);\r\n\r\n        this.emitValue = this.emitValue + \" \" + this.itemOptions[event];\r\n        this.$emit(\"input\", this.emitValue);\r\n      },\r\n      debouncedQuery: _.debounce(function () { this.query(); }, 300),\r\n      foo: function(event) {\r\n        console.log(\"button\");\r\n        console.log(event);\r\n        //console.log(document);\r\n\r\n      },\r\n      callAPIMethods: function() {\r\n        const collectionName = this.findCollectionValue();\r\n        const fullURL = this.findURL(collectionName);\r\n        var dropdownAlternative = [];\r\n        fetch(fullURL) // Call the fetch function passing the url of the API as a parameter\r\n        .then((resp) => resp.json())\r\n        .then(function(response) {\r\n            // Your code for handling the data you get from the API\r\n            //console.log(\"inside fetch\");\r\n            //console.log(response);\r\n            response[\"data\"].forEach(element => {\r\n              dropdownAlternative.push(element.identifier);\r\n            });\r\n            //console.log(\"after push\");\r\n            //console.log(dropdownAlternative);\r\n        })\r\n        .catch(function(error) {\r\n            // This is where you run code if the server returns any errors\r\n            console.error(\"Error:\", error);\r\n        });\r\n        this.options = dropdownAlternative;\r\n        return dropdownAlternative;\r\n      },\r\n\r\n      getItems: function(currentSelectedCollection) {\r\n        var dropdownAlternative = [];\r\n        const ITEM_URL = \"http://localhost:2443/corporatesite/items/\" + currentSelectedCollection;\r\n        fetch(ITEM_URL) // Call the fetch function passing the url of the API as a parameter\r\n        .then((resp) => resp.json())\r\n        .then(function(response) {\r\n            // Your code for handling the data you get from the API\r\n            //console.log(\"inside fetch\");\r\n            //console.log(response);\r\n            response[\"data\"].forEach(element => {\r\n              dropdownAlternative.push(element.identifier);\r\n            });\r\n            //console.log(\"after push\");\r\n            //console.log(collectionDropdown);\r\n        })\r\n        .catch(function(error) {\r\n            // This is where you run code if the server returns any errors\r\n            console.error(\"Error:\", error);\r\n        });\r\n        this.itemOptions =  dropdownAlternative;\r\n        return dropdownAlternative;\r\n      },\r\n\r\n      getCollectionsMethod: function() {\r\n        var collectionDropdown = [];\r\n        const COLLECTION_URL = \"http://localhost:2443/corporatesite/collections\";\r\n        fetch(COLLECTION_URL) // Call the fetch function passing the url of the API as a parameter\r\n        .then((resp) => resp.json())\r\n        .then(function(response) {\r\n            // Your code for handling the data you get from the API\r\n            //console.log(\"inside fetch\");\r\n            //console.log(response);\r\n            response[\"data\"].forEach(element => {\r\n              const valueToAdd = element.collection;\r\n              if(valueToAdd.startsWith(\"directus_\")) {\r\n                return;\r\n              }\r\n              collectionDropdown.push(valueToAdd);\r\n            });\r\n            //console.log(\"after push\");\r\n            //console.log(collectionDropdown);\r\n        })\r\n        .catch(function(error) {\r\n            // This is where you run code if the server returns any errors\r\n            console.error(\"Error:\", error);\r\n        });\r\n        //this.collectionOptions = collectionDropdown;\r\n        //console.log(\"collectionOptions:\");\r\n        //console.log(this.collectionOptions);\r\n        return collectionDropdown;\r\n      },\r\n\r\n      \r\n      \r\n    },\r\n    created() {\r\n      this.collectionOptions = this.getCollectionsMethod();\r\n    },\r\n    computed: {\r\n      //getItemsInCollection: function() {\r\n        //return this.callAPIMethods();\r\n        //return this.getItems();\r\n      //},\r\n\r\n      getCollections: function() {\r\n        return this.getCollectionsMethod();\r\n      }\r\n      \r\n    },\r\n    watch: {\r\n      /*\r\n      collectionName: function(newVal) {\r\n        //console.log(\"value in collectionName changed\");\r\n        //this.callAPI();\r\n      },\r\n      findCollectionValue: function(newVal) {\r\n        //this.callAPI();\r\n      }*/\r\n\r\n      \r\n      selectedCollection: function(currentSelectedCollection) {\r\n        this.getItems(currentSelectedCollection);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ninput {\r\n  border-radius: var(--border-radius);\r\n}\r\n</style>\r\n"]}